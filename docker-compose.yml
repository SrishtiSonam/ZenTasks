version: '3.9'
# version of docker compose syntax 


# Under this we have our different services required for application. 
services: 
  # Run on our docker file.
  app:   
    # build the docker file inside our current directory 
    # Context of app service is the root directory that we are running. 
    build:
      context: .
      # Building argument - Overriding Dockerfile content.
      args:
        - DEV=true
    # Maps port 8000 to our local machine to port 8000 inside our docker container.
    # Access the network when we want to connect to our server.
    ports: 
      - '8000:8000'
    # Volumes - odd way of mapping directories from our system into the docker container.
    # Updates in local machine gets reflects in running conatiner.
    volumes: 
      - ./app:/app
    # Command to run the service - default command. 
    # We can override this command when we run docker compose. 
    command: >
      sh -c 'python manage.py runserver 0.0.0.0:8000'



#  docker-compose build     -     (2)
# Build Our Docker Image 
# Build and tag images properly.